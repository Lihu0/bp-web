"use strict"; const onclick_c = () => { const input_num = document.querySelector("#input_num"); input_num.value = "" }, onclick_del = () => { const input_num = document.querySelector("#input_num"); input_num.value = input_num.value.slice(0, -1) }, onclick_num = num => { const input_num = document.querySelector("#input_num"); input_num.value += num.toString() }, onclick_enter = () => { const input_num = document.querySelector("#input_num"), value = input_num.value, value_arr = Array.from(value.toString()).map(Number), table = document.querySelector("#table"); let valid_arr = []; for (let i = 0; i < value_arr.length; i++)for (let j = 0; j < value_arr.length; j++)if (value_arr[i] == value_arr[j] && i != j) { var is_valid = !0; valid_arr[i] = !0 } else if (0 == value_arr[0]) var is_valid = !0; else if (value_arr.length != dig) var is_valid = !0; else var is_valid = !1; is_valid || -1 != valid_arr.indexOf(!0) ? (alert(`המספר ${value} אינו חוקי, נסה שוב`), input_num.value = "") : 4 == calcbp(rnd, value)[0] ? (tries++, alert(`כל הכבוד הצלחת ב ${tries} ניסיונות`), table.innerHTML += `<tr><td>${value}</td><td>${calcbp(rnd, value)[0]}</td><td>${calcbp(rnd, value)[1]}</td><td>${tries}</td><tr>`, input_num.value = "") : "" == value ? alert("אנא הזן מספר") : (tries++, table.innerHTML += `<tr><td>${value}</td><td>${calcbp(rnd, value)[0]}</td><td>${calcbp(rnd, value)[1]}</td><td>${tries}</td><tr>`, input_num.value = "") };const rnd_num = (dig = 4) => { const max = 10 ** dig - 1, min = 10 ** (dig - 1); let stop_1 = !1; do { stop_1 = !1; var rnd = Math.round(Math.random() * (max - min) + min); let rnd_arr = Array.from(rnd.toString()).map(Number); for (let i = 0; i < rnd_arr.length; i++)for (let j = 0; j < rnd_arr.length; j++)rnd_arr[i] == rnd_arr[j] && i != j && (stop_1 = !0) } while (stop_1); return rnd };const calcbp = (selected_num, guess_num, dig = 4) => { const selected_arr = Array.from(selected_num.toString()).map(Number), guess_arr = Array.from(guess_num.toString()).map(Number); let bool = 0, bool_arr = new Array(dig), pgia = 0; for (let i = 0; i < dig; i++)selected_arr[i] == guess_arr[i] ? (bool++, bool_arr[i] = !0) : bool_arr[i] = !1; for (let i = 0; i < dig; i++)for (let j = 0; j < dig; j++)selected_arr[i] != guess_arr[j] || 0 != bool_arr[i] || i == j || bool_arr[j] || pgia++; return [bool, pgia] };const input = document.querySelector("#input"), dig = 4, main = document.querySelector("#main"), rnd = rnd_num(4); let tries = 0; input.innerHTML = '<input type="number" min="1000" max="9999" id="input_num">', input.innerHTML += "<br>"; for (let i = 1; i < 10; i++)input.innerHTML += `<button onclick = "onclick_num(${i});">${i}</button>`, i % 3 == 0 && (input.innerHTML += "<br>"); input.innerHTML += '<button onclick = "onclick_num(0);">0</button>', input.innerHTML += '<button onclick="onclick_del();">del</button>', input.innerHTML += '<button onclick="onclick_c();">c</button>', input.innerHTML += "<br>", input.innerHTML += '<button onclick = "onclick_enter()">enter</button>', main.innerHTML += "המחשב בחר מספר בן 4 ספרות, נסו לנחש את המספר", main.innerHTML += "<br>למספר אין ספרות שוות *", main.innerHTML += "<br>המספר לא מתחיל ב 0 *", main.innerHTML += '<br><table class="table"><thead><tr><th>ניחוש</th><th>בולים</th><th>פגיעות</th><th>ניסיון</th></tr></thead><tbody id="table"></tbody>';